<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Vue Learning</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>

	<div class="container">
		<div id="app">
			<div v-for="plan in plans">
				<plan :plan="plan" :active.sync="active"></plan>
			</div>
		</div>
	</div>

	<template id="plan-template">
		<div class="plan">
			<span class="plan-name"> {{ plan.name }} </span>
			<span class="plan-price"> {{ plan.price }}/month </span>
			<button class="btn btn-primary" @click="setActivePlan" v-show="plan.name !== active.name">{{isUpgrade}}</button>
		</div>
	</template>

	<script src="http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.24/vue.js"></script>

	<script>

	new Vue({
		el : '#app',
		data : {
			plans : [
				{ name : 'Enterprise', price : 100 },
				{ name : 'Professional', price : 50 },
				{ name : 'Starter', price : 25 },
				{ name : 'Free', price : 0 }
			],
			active : {name : 'Free', price : 0}
		},

		components : {
			plan : {
				template : '#plan-template',
				props : ['plan', 'active'],
				computed : {
					isUpgrade : function()
					{
						if (this.plan.price > this.active.price)
							return 'Upgrade';
						else
							return 'Downgrade';
					}
				},
				methods : {
					setActivePlan : function()
					{
						this.active = this.plan;
					}
				}
			}
		}
	});
	</script>
</body>
</html>
